<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ã½ã“ã½ã“WIZZY - ãƒ¡ãƒ‹ãƒ¥ãƒ¼</title>
<link rel="shortcut icon" href="./icon/favicon.ico">

<style>
/* ==============================
   ãƒ†ãƒ¼ãƒ & ãƒ™ãƒ¼ã‚¹
================================ */
:root{
  --bg1:#cbe9ff; --bg2:#cfd7ff;        /* èƒŒæ™¯ã‚°ãƒ©ãƒ‡ */
  --card:rgba(255,255,255,.78);         /* ã‚¬ãƒ©ã‚¹ã‚«ãƒ¼ãƒ‰ */
  --ink:#0b1130; --ink2:#345;           /* æ–‡å­—è‰² */
  --hp1:#ffb2c8; --hp2:#b9c9ff;         /* HPã‚°ãƒ©ãƒ‡ */
  --accent:#6cd5ff; --accent2:#9f8bff;  /* å·®ã—è‰² */
  --radius:26px;
  --shadow:0 24px 60px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.18);
  --blur:8px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; font-family:system-ui,-apple-system,'Segoe UI',sans-serif; color:var(--ink);
  display:grid; place-items:center; overflow:hidden;
  background:linear-gradient(180deg,var(--bg1),var(--bg2));
}

/* ==============================
   ç«¯æœ«å†…ãƒ•ãƒ¬ãƒ¼ãƒ 
================================ */
.app{
  width:min(690px,92vw); aspect-ratio:9/16; max-height:94vh; position:relative; overflow:hidden;
  border-radius:var(--radius); padding:14px 16px 18px;
  box-shadow:var(--shadow);
}

/* ãµã‚ãµã‚æ³¡ èƒŒæ™¯ */
.app::before, .app::after{
  content:""; position:absolute; inset:-10% -10% auto -10%; height:65%; pointer-events:none; filter:blur(2px);
  background:
    radial-gradient(30px 30px at 8% 80%, rgba(255,255,255,.65), transparent 60%),
    radial-gradient(50px 50px at 38% 92%, rgba(255,255,255,.55), transparent 60%),
    radial-gradient(22px 22px at 78% 75%, rgba(255,255,255,.5), transparent 60%),
    radial-gradient(36px 36px at 60% 70%, rgba(255,255,255,.5), transparent 60%);
}
.app::after{
  inset:auto -10% -12% -10%; height:55%;
  background:
    radial-gradient(28px 28px at 20% 10%, rgba(255,255,255,.6), transparent 60%),
    radial-gradient(46px 46px at 55% 0%, rgba(255,255,255,.5), transparent 60%),
    radial-gradient(24px 24px at 85% 8%, rgba(255,255,255,.45), transparent 60%);
}

/* ==============================
   ä¸Šéƒ¨ï¼šãƒ”ãƒ«å‹ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹
================================ */
.topbar{display:flex; gap:10px; justify-content:center; z-index:1; position:relative}
.pill{
  display:flex; align-items:center; gap:.5em;
  padding:.52rem .9rem; border-radius:999px; background:var(--card);
  backdrop-filter:blur(var(--blur));
  box-shadow:0 8px 18px rgba(0,0,0,.14), inset 0 0 0 1px rgba(255,255,255,.5);
}
.pill img{width:18px; height:18px}
.pill b{font-weight:800}

/* ==============================
   ã‚«ãƒ¼ãƒ‰å…±é€š
================================ */
.card{
  background:var(--card); backdrop-filter:blur(calc(var(--blur) + 1px)); border-radius:22px;
  padding:14px; box-shadow:0 12px 26px rgba(0,0,0,.18), inset 0 0 0 1px rgba(255,255,255,.55);
}

/* ãƒ¡ã‚¤ãƒ³ã‚«ãƒ¼ãƒ‰ï¼ˆã‚­ãƒ£ãƒ©ï¼†HPï¼‰ */
.main{
  margin:12px 0; padding:18px 16px;
  display:grid; grid-template-columns:88px 1fr; gap:14px; align-items:center;
}
.chibi{
  width:88px; height:88px; object-fit:contain;
  filter:drop-shadow(0 8px 12px rgba(0,0,0,.2))
}
.name{font-weight:900; font-size:1.1rem}
.badge{display:inline-flex; align-items:center; gap:.4em; margin-left:.5em; padding:.1em .6em; border-radius:999px;
  background:rgba(159,139,255,.18); color:var(--accent2); font-weight:800; font-size:.85rem}

.hp{
  height:14px; border-radius:999px; background:rgba(0,0,0,.06); overflow:hidden; position:relative; margin:.5rem 0 .35rem
}
.hp .fill{
  height:100%; width:70%;
  background:linear-gradient(90deg,var(--hp1),var(--hp2));
  box-shadow:inset 0 0 10px rgba(255,122,162,.45);
  border-radius:999px; transition:width .35s ease;
}
.meta{display:flex; gap:16px; color:var(--ink2); font-size:.95rem}
.meta img{width:16px; height:16px; margin-right:.35em; vertical-align:-2px}

/* ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚¹ãƒˆãƒªãƒƒãƒ— */
.mission{display:flex; align-items:center; justify-content:space-between; margin:10px 0}
.mission .title{font-weight:800}
.stars{letter-spacing:.2em}

/* ==============================
   ãƒœã‚¿ãƒ³ç¾¤
================================ */
.actions{display:grid; grid-template-columns:1fr 1.3fr 1fr; gap:12px; margin-top:10px}
.btn{
  appearance:none; border:0; border-radius:16px; padding:14px 12px; font-weight:900; cursor:pointer;
  box-shadow:0 10px 22px rgba(0,0,0,.2), inset 0 0 0 1px rgba(255,255,255,.5);
  background:rgba(255,255,255,.68); transition:transform .12s, box-shadow .12s
}
.btn.primary{background:linear-gradient(180deg,#ffffff,#e9f6ff)}
.btn.big{font-size:1.15rem}
.btn:hover{transform:translateY(-1px)}
.btn:active{transform:translateY(1px)}

/* å³ä¸‹ãƒ‰ãƒƒã‚¯ */
.dock{position:absolute; right:16px; bottom:12px; display:flex; gap:10px}
.dot{
  width:46px; height:46px; border-radius:50%; border:0;
  background:var(--card); backdrop-filter:blur(var(--blur));
  box-shadow:0 8px 20px rgba(0,0,0,.2), inset 0 0 0 1px rgba(255,255,255,.5);
  cursor:pointer
}

/* ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ˜ãƒ«ãƒ‘ */
.stack{display:grid; gap:12px; margin-top:8px}
footer.ver{position:absolute; left:50%; bottom:8px; transform:translateX(-50%); color:#20324a; font-size:.9rem}

/* ã¡ã‚‡ã„å¯å‹•æ„Ÿ */
@keyframes pop{from{transform:scale(.96); opacity:0} to{transform:scale(1); opacity:1}}
.card, .pill, .btn, .dot{animation:pop .25s ease both}

/* ==============================
   ç”»é¢å…¨ä½“ã®é»’ãƒ•ã‚§ãƒ¼ãƒ‰
   - åˆæœŸè¡¨ç¤º: é»’(show) â†’ JSã§å¤–ã™
   - é·ç§»æ™‚  : showã‚’ä»˜ä¸ â†’ setTimeoutã§ç§»å‹•
================================ */
.fade-overlay{
  position:fixed; inset:0; background:#000;
  opacity:0; pointer-events:none;
  transition:opacity 1s ease;   /* â† é»’â†’æ˜ã‚‹ã„ã®ãƒ•ã‚§ãƒ¼ãƒ‰æ™‚é–“ï¼ˆèª¿æ•´å¯ï¼‰ */
  z-index:9999;
}
.fade-overlay.show{ opacity:1; pointer-events:auto; }

/* ã‚¢ãƒ‹ãƒ¡è‹¦æ‰‹è¨­å®šã®å°Šé‡ï¼ˆä»»æ„ï¼‰ */
@media (prefers-reduced-motion: reduce){
  .fade-overlay{ transition:none; }
}
</style>
</head>
<body>

<!-- æœ€åˆã¯é»’ã„ã¾ã¾ã«ã—ã¦ãŠãï¼ˆåˆ°ç€æ™‚ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ç”¨ï¼‰ -->
<div id="fade" class="fade-overlay show" aria-hidden="true"></div>

<div class="app" id="app" role="main" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼ç”»é¢">
  <!-- ä¸Šéƒ¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ -->
  <div class="topbar" aria-label="ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹">
    <div class="pill" title="ãƒ©ã‚¤ãƒ•">â™¥ï¸<b id="life">5</b></div>
    <div class="pill" title="ã‚³ã‚¤ãƒ³">ğŸ’µ<b id="coin">12,345</b></div>
    <div class="pill" title="ã‚¸ã‚§ãƒ ">ğŸ’<b id="gem">83</b></div>
  </div>

  <div class="stack">
    <!-- ãƒ¡ã‚¤ãƒ³ã‚«ãƒ¼ãƒ‰ -->
    <section class="card main" aria-label="ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹">
      <img class="chibi" src="img/WIZZY.png" alt="WIZZY">
      <div>
        <div class="name">
          ã‚†ã†ã›ã„
          <span class="badge">Lv.<b id="lv">5</b></span>
        </div>
        <div class="hp" aria-label="HP">
          <div class="fill" id="hpFill"></div>
        </div>
        <div class="meta">
          <span><img src="ui/medal.png" alt="">ãƒãƒƒã‚¸ <b id="badges">5</b></span>
          <span>æ‰€æŒWIZZY <b id="items">12</b></span>
        </div>
      </div>
    </section>

    <!-- ãƒŸãƒƒã‚·ãƒ§ãƒ³ -->
    <section class="card mission" aria-label="ä»Šæ—¥ã®ãƒŸãƒƒã‚·ãƒ§ãƒ³">
      <div class="title">ä»Šæ—¥ã®ãƒŸãƒƒã‚·ãƒ§ãƒ³</div>
      <div class="stars" id="missionStars" aria-hidden="true">â˜… â˜… â˜†</div>
      <button class="btn" id="missionBtn" aria-label="ãƒŸãƒƒã‚·ãƒ§ãƒ³è©³ç´°">è©³ç´°</button>
    </section>

    <!-- ãƒœã‚¿ãƒ³3åˆ— -->
    <div class="actions" aria-label="ãƒ¡ãƒ‹ãƒ¥ãƒ¼">
      <button class="btn" id="cardBtn">ğŸ“‡ ã‚«ãƒ¼ãƒ‰</button>
      <button class="btn primary big" id="playBtn">â–¶ ãƒ—ãƒ¬ã‚¤</button>
      <button class="btn" id="badgeBtn">ğŸµ ãƒãƒƒã‚¸</button>
    </div>
  </div>

  <!-- å³ä¸‹ãƒ‰ãƒƒã‚¯ -->
  <div class="dock" aria-label="ãã®ä»–">
    <button class="dot" id="rankBtn" title="ãƒ©ãƒ³ã‚­ãƒ³ã‚°" aria-label="ãƒ©ãƒ³ã‚­ãƒ³ã‚°">ğŸ†</button>
    <button class="dot" id="settingBtn" title="è¨­å®š" aria-label="è¨­å®š">âš™ï¸</button>
  </div>

  <footer class="ver">ãƒ™ãƒ¼ã‚¿ç‰ˆ</footer>
</div>

<script>
/* ==============================
   ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆç§’æ•°ã¯ã“ã“ã§èª¿æ•´ï¼‰
================================ */
// åˆ°ç€æ™‚ï¼šé»’ã„ã¾ã¾â€œå¾…ã¤æ™‚é–“â€ï¼ˆmsï¼‰
const ARRIVAL_HOLD_MS = 400;
// é·ç§»æ™‚ï¼šæš—è»¢å¾Œã«ãƒšãƒ¼ã‚¸ã‚’ç§»å‹•ã™ã‚‹ã¾ã§ã®å¾…æ©Ÿï¼ˆmsï¼‰
const LEAVE_HOLD_MS   = 1000;

/* ==============================
   ãƒ€ãƒŸãƒ¼ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‡ãƒ¼ã‚¿ï¼ˆå®Ÿãƒ‡ãƒ¼ã‚¿ã«ç½®ãæ›ãˆã¦OKï¼‰
================================ */
const player = {
  name: "ã‚†ã†ã›ã„",
  level: 7,
  hp: 56,
  maxHP: 80,
  coin: 43173,
  gem: 83,
  lives: 5,
  badges: 12,
  items: 18,
  missionStars: 3
};

function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

/* å€¤ã®åæ˜  */
document.getElementById('lv').textContent = player.level;
document.getElementById('coin').textContent = player.coin.toLocaleString();
document.getElementById('gem').textContent  = player.gem.toLocaleString();
document.getElementById('life').textContent = player.lives;
document.getElementById('badges').textContent = player.badges;
document.getElementById('items').textContent  = player.items;
document.getElementById('hpFill').style.width =
  clamp((player.hp / Math.max(1, player.maxHP)) * 100, 0, 100) + '%';
document.getElementById('missionStars').textContent =
  'â˜… '.repeat(player.missionStars).trim() + (player.missionStars<3 ? ' ' + 'â˜† '.repeat(3-player.missionStars).trim() : '');

/* ==============================
   ãƒ•ã‚§ãƒ¼ãƒ‰åˆ¶å¾¡
================================ */
// åˆ°ç€æ™‚ï¼šå°‘ã—é»’ã‚’ä¿ã£ã¦ã‹ã‚‰ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¢ã‚¦ãƒˆï¼ˆBCacheå¾©å¸°ã«ã‚‚å¯¾å¿œï¼‰
window.addEventListener('pageshow', () => {
  const fade = document.getElementById('fade');
  setTimeout(() => { fade.classList.remove('show'); }, ARRIVAL_HOLD_MS);
});

// é·ç§»æ™‚ï¼šæš—è»¢â†’å¾…æ©Ÿâ†’é·ç§»
function fadeTo(url){
  const fade = document.getElementById('fade');
  fade.classList.add('show');
  setTimeout(() => { location.href = url; }, LEAVE_HOLD_MS);
}

/* ==============================
   ã‚¯ãƒªãƒƒã‚¯é·ç§»ï¼ˆå…¨ã¦æš—è»¢çµŒç”±ï¼‰
================================ */
document.getElementById('playBtn')   ?.addEventListener('click', () => fadeTo('./play.html'));
document.getElementById('rankBtn')   ?.addEventListener('click', () => fadeTo('./ranking.html'));
document.getElementById('badgeBtn')  ?.addEventListener('click', () => fadeTo('./badges.html'));
document.getElementById('cardBtn')   ?.addEventListener('click', () => fadeTo('./cards.html'));
document.getElementById('settingBtn')?.addEventListener('click', () => fadeTo('./settings.html'));
document.getElementById('missionBtn')?.addEventListener('click', () => alert('ä»Šæ—¥ã®ãƒŸãƒƒã‚·ãƒ§ãƒ³è©³ç´°ã‚’è¡¨ç¤º'));
</script>
</body>
</html>
